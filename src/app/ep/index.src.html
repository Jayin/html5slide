<!-- extend "./layout.base.html" -->

<!-- section "head" -->
<meta name="keywords" content="电气321" />
<meta name="description" content="电气321" />
<title>电气321</title>
<!-- /section -->

<!-- section "body" -->
<script type="text/javascript">
document.write([
	'<link rel="stylesheet" href="' + G.CDN_BASE + '/app/ep/style/main.css" />',
	'<link rel="stylesheet" href="' + G.CDN_BASE + '/style/lib/jstree/themes/default/main.css" />'
].join(''));
</script>

<div class="bar-top-search">
	<input class="index-search-input" placeholder="搜索公司或者型号"/>
	<div id="index-btn-search"></div>
</div>

<!-- 占据顶栏 -->
<div class="placeholer-bar-top-search"></div>
<div class="page-wrapper"></div>
<!-- 占据底部 -->
<div class="placeholer-bar-bottom"></div> 

<div class="bar-bottom bar_bottom_1">
	<div style="width:100%;height:100%;">
		<div id="index-btn-common" class="inline-block" style="width: 20%;height:100%;"></div>
		<div id="index-btn-highPressure" class="inline-block"style="width: 20%;height:100%;"></div>
		<div id="index-btn-lowPressure" class="inline-block" style="width: 18%;height:100%;"></div>
		<div id="index-btn-accessory" class="inline-block" style="width: 18%;height:100%;"></div>
		<div id="index-btn-case" class="inline-block" style="width: 17.5%;height:100%;"></div>
	</div>
</div>
<div class="side-words" style="display: none;">
	<a class="item-word" href="#A">A<a>
	<a class="item-word" href="#B">B<a>
	<a class="item-word" href="#C">C<a>
	<a class="item-word" href="#D">D<a>
	<a class="item-word" href="#E">E<a>
	<a class="item-word" href="#F">F<a>
	<a class="item-word" href="#G">G<a>
	<a class="item-word" href="#H">H<a>
	<a class="item-word" href="#I">I<a>
	<a class="item-word" href="#J">J<a>
	<a class="item-word" href="#K">K<a>
	<a class="item-word" href="#L">L<a>
	<a class="item-word" href="#M">M<a>
	<a class="item-word" href="#N">N<a>
	<a class="item-word" href="#O">O<a>
	<a class="item-word" href="#P">P<a>
	<a class="item-word" href="#Q">Q<a>
	<a class="item-word" href="#R">R<a>
	<a class="item-word" href="#S">S<a>
	<a class="item-word" href="#T">T<a>
	<a class="item-word" href="#U">U<a>	
	<a class="item-word" href="#V">V<a>			
	<a class="item-word" href="#W">W<a>			
	<a class="item-word" href="#X">X<a>			
	<a class="item-word" href="#Y">Y<a>
	<a class="item-word" href="#Z">Z<a>		
</div>
<script type="text/javascript">
require(['jquery', 'app', 'skateboard'], function($, app, Skateboard) {

	$.extend(G.MD5_MAP, %{{md5map.ep}}%);

	Skateboard.core.init({
		container: $('.page-wrapper'),
		modBase: '../../../app/ep/script/',
		animate: {
			type: 'fade',
			timingFunction: 'linear',
			duration: 300
		},
		transformAnimation: false,
		isSupportHistoryState: false,
		onBeforeViewChange: function(modName, modInst) {
			app.ajax.hideLoading();
			app.alerts.alert.hide();
			app.alerts.modal.hide();
			var defaultMods = ['home', 'highPressure', 'lowPressure', 'accessory', 'case']
			if(defaultMods.indexOf(modName) == -1 && !G.state.get()) {
				Skateboard.core.view('/view/home', {replaceState: true});
				return false;
			}
		},
		onAfterViewChange: function(modName, modInst){
			$(window).scrollTop(0);
		},
		constructContentDom: function(modName, args, opt) {
			var contentDom = $([
				'<div class="sb-mod sb-mod--' + modName.replace(/\//g, '-') + '" data-sb-mod="' + modName + '" data-sb-scene="0" onscroll="require(\'app\').mod.scroll(this.scrollTop);">',
					'<div class="sb-mod__body">',
						'<div class="body-inner" data-sb-mod-not-renderred>',
						'</div>',
					'</div>',
				'</div>'
			].join('')).prependTo($('.page-wrapper'));
			return contentDom;
		}
	});


	$('#index-btn-common').on('click',function(){
		Skateboard.core.view('/view/home')
		$('div.bar-bottom').removeClass().addClass('bar-bottom bar_bottom_1')
	});

	$('#index-btn-highPressure').on('click',function(){
		Skateboard.core.view('/view/highPressure')
		$('div.bar-bottom').removeClass().addClass('bar-bottom bar_bottom_2')
	});

	$('#index-btn-lowPressure').on('click',function(){
		Skateboard.core.view('/view/lowPressure')
		$('div.bar-bottom').removeClass().addClass('bar-bottom bar_bottom_3')
	});

	$('#index-btn-accessory').on('click',function(){
		Skateboard.core.view('/view/accessory')
		$('div.bar-bottom').removeClass().addClass('bar-bottom bar_bottom_4')

	});
	$('#index-btn-case').on('click',function(){
		Skateboard.core.view('/view/case')
		$('div.bar-bottom').removeClass().addClass('bar-bottom bar_bottom_5')
	});
	$('#index-btn-search').on('click',function(){
		var words = $('.index-search-input')[0].value
		if (words == ''){
			app.alerts.alert('内容不能为空');
		}else{
			G.state.set({search: words})
			Skateboard.core.view('/view/search', {replaceState: true})
		}
	});

	G.state.on('change', function(){
		if (G.state.get('companyName')){
			$('input.index-search-input').attr('value', G.state.get('companyName'));
		}
	});

}, function() {

});
</script>
<!-- /section -->
