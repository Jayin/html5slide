<!DOCTYPE html>
<html lang="ch">
<head>
<meta charset="utf-8" />
<meta http-equiv="content-type" content="text/html; charset=utf-8" />
<meta http-equiv="pragma" content="no-cache" />
<meta http-equiv="Cache-Control" content="no-cache, must-revalidate" />
<meta http-equiv="expires" content="0">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" />
<meta name="apple-mobile-web-app-capable" content="yes" />
<meta name="apple-touch-fullscreen" content="yes" />
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
<meta name="format-detection" content="telephone=no" />
<meta name="keywords" content="我是你的宝贝" />
<meta name="description" content="把自己打包成宝贝，发给老妈下单！" />
<meta name="sharecontent" data-msg-img="http://taobao.createcdigital.com/static/app/taobao-201501/image/home/head.png" data-msg-title="" data-msg-content="把自己打包成宝贝，发给老妈下单！" data-msg-callBack="" data-line-img="http://taobao.createcdigital.com/static/app/taobao-201501/image/home/head.png" data-line-title="把自己打包成宝贝，发给老妈下单！" data-line-callBack="" />
<title>我是你的宝贝</title>
<!-- yield "head" -->
<!-- /yield -->

</head>
<body class="body-sb-mod--home" style="display: none;">
<script type="text/javascript">
var G = G || {
	DOMAIN: %{{domain}}%,
	ORIGIN: %{{origin}}%,
	CGI_ORIGIN: %{{cgiOrigin}}%,
	CDN_ORIGIN: %{{cdnOrigin}}%,
	CDN_CONTEXT: %{{cdnContext}}%,
	
	MD5_MAP: %{{md5map.app}}%,

	IS_PROTOTYPE: %{{isPrototype}}%,
	
	pageTime: [new Date()]
};

if(G.CDN_CONTEXT) {
	G.CDN_BASE = G.CDN_ORIGIN + '/' + G.CDN_CONTEXT
} else {
	G.CDN_BASE = G.CDN_ORIGIN
}

G.id = function(id) {
	return document.getElementById(id);
};

if(G.DOMAIN && G.DOMAIN != document.domain) {
	document.domain = G.DOMAIN;
}

(function() {
	var list = ['CGI_ORIGIN', 'CDN_ORIGIN'];
	for(var i = 0; i < list.length; i++) {
		if(G[list[i]].indexOf('//') === 0) {
			G[list[i]] = location.protocol + G[list[i]];
		}
	}
	if(location.protocol == 'file:') {
		var m = location.href.match(/^(.+)\/static\//);
		if(m) {
			G.ORIGIN = G.CDN_ORIGIN = G.CGI_ORIGIN = m[1];
		}
	}
})();

G.showLoading = function() {
	G.id('g-loading').style.display = 'block';
};
G.hideLoading = function() {
	G.id('g-loading').style.display = 'none';
};

G.getUrlParams = function(loc) {
	loc = loc || window.location;
	var raw = loc.search, res = {}, p, i;
	if(raw) {
		raw = raw.slice(1);
		raw = raw.split('&');
		for(i = 0, l = raw.length; i < l; i++) {
			p = raw[i].split('=');
			res[p[0]] = decodeURIComponent(p[1] || '');
		}
	}
	raw = loc.hash;
	if(raw) {
		raw = raw.slice(1);
		raw = raw.split('&');
		for(i = 0, l = raw.length; i < l; i++) {
			p = raw[i].split('=');
			res[p[0]] = res[p[0]] || decodeURIComponent(p[1] || '');
		}
	}
	return res;
};
</script>
<!-- yield "redirect" -->
<!-- /yield -->

<script type="text/javascript">
if(!G.redirected) {
	document.body.style.display = 'block';
}
</script>

<!-- include "../../style/app/main.css" -->
<!-- include "style/main.css" -->

<div id="g-loading" class="circleG_wrapper">
	<div class="circleG circleG_1"></div>
	<div class="circleG circleG_2"></div>
	<div class="circleG circleG_3"></div>
</div>

<!-- yield "body" -->
<!-- include "script/mod/home/body.scss" -->
<script type="text/javascript">
G.defaultModName = 'home';
</script>
<div id="page-wrapper" class="page-wrapper">
	<div id="init-content-dom" class="sb-mod sb-mod--home" data-sb-scene="0">
		<div class="sb-mod__body">
			<!-- require "script/mod/home/body.tpl.html" render="true" -->
		</div>
	</div>
</div>
<!-- /yield -->
<script type="text/javascript">
document.write([
    '<audio id="audio-bg" src="' + G.CDN_BASE + '/app/taobao-201501/image/bg.mp3" loop></audio>'
].join(''));
</script>
<script type="text/javascript">
;(function() {
	//adjust
	var fixWrapper = function(ww) {
		var wrapper = G.id('page-wrapper');
		wrapper.style.height = (ww * 604 / 375) + 'px';
		document.documentElement.style.fontSize = ww / 375 * 100 + '%';
	};
	window.addEventListener('onorientationchange' in window ? 'orientationchange' : 'resize', function() {
		setTimeout(function() {
			fixWrapper(document.documentElement.clientWidth);
		}, 200);
	}, false);
	fixWrapper(document.documentElement.clientWidth);
})();

document.write([
	'<script type="text/javascript" src="' + G.CDN_BASE + '/script/lib/fastclick/fastclick.js"></s', 'cript>',
	'<script type="text/javascript" src="' + G.CDN_BASE + '/script/lib/yom/require-lite.js"></s', 'cript>'
].join(''));
</script>

<script type="text/javascript">
FastClick.attach(document.body);
;(function() {
	var m = %{{md5map.taobao-201501}}%;
	for(var p in m) {
		if(Object.prototype.hasOwnProperty.call(m, p)) {
			G.MD5_MAP[p] = m[p];
		}
	}
})();
G.boost = function($, app, Skateboard) {
	var _state = null;
	G.state = $.extend($({}), {
		set: function(obj) {
			if(typeof obj == 'object' && obj) {
				if(_state) {
					for(var p in obj) {
						if(Object.prototype.hasOwnProperty.call(obj, p)) {
							_state[p] = obj[p];
						}
					}
				} else {
					_state = obj;
				}
				G.state.trigger('change', obj);
			}
		},

		get: function(key) {
			if(key) {
				return _state && _state[key];
			} else {
				return _state;
			}
		}
	});

	var defaultModName = G.defaultModName || 'home';
	Skateboard.core.init({
		container: $('.page-wrapper'),
		defaultModName: defaultModName,
		modBase: '../../../app/taobao-201501/script/',
		animate: {
			type: 'fade',
			timingFunction: 'linear',
			duration: 300
		},
		transformAnimation: false,
		isSupportHistoryState: false,
		initContentDom: $('#init-content-dom'),
		onBeforeViewChange: function(modName, modInst) {
			app.ajax.hideLoading();
			app.alerts.alert.hide();
			app.alerts.modal.hide();
			if(modName != defaultModName && !G.state.get()) {
				Skateboard.core.view('/view/' + defaultModName, {replaceState: true});
				return false;
			}
		},
		onAfterViewChange: function(modName, modInst) {
			var modClassName = 'body-sb-mod--' + modInst._modName.replace(/\//g, '-');
			var bodyClassName = document.body.className.replace((/\bbody-sb-mod--\S+/), modClassName);
			if((/\bsb-show-nav\b/).test(bodyClassName)) {
				if(!modInst.showNavTab) {
					bodyClassName = bodyClassName.replace((/\s*\bsb-show-nav\b/), '');
				}
			} else if(modInst.showNavTab) {
				bodyClassName = bodyClassName + ' sb-show-nav';
			}
			document.body.className = bodyClassName;
		},
		constructContentDom: function(modName, args, opt) {
			var contentDom = $([
				'<div class="sb-mod sb-mod--' + modName.replace(/\//g, '-') + '" data-sb-mod="' + modName + '" data-sb-scene="0" onscroll="require(\'app\').mod.scroll(this.scrollTop);">',
					'<div class="sb-mod__body">',
						'<div class="body-inner" data-sb-mod-not-renderred>',
							'<div class="circleG_wrapper">',
								'<div class="circleG circleG_1"></div>',
								'<div class="circleG circleG_2"></div>',
								'<div class="circleG circleG_3"></div>',
							'</div>',
						'</div>',
					'</div>',
				'</div>'
			].join('')).prependTo($('.page-wrapper'));
			return contentDom;
		}
	});

	setTimeout(function() {
		$([
			'<audio id="audio-create" src="' + G.CDN_BASE + '/app/taobao-201501/image/create.mp3"></audio>',
			'<audio id="audio-click" src="' + G.CDN_BASE + '/app/taobao-201501/image/click.mp3"></audio>',
			'<button id="audio-btn" class="img-btn audio-btn on" onclick="if($(this).hasClass(\'on\')) {$(\'#audio-bg\')[0].pause(); $(this).removeClass(\'on\')} else {$(\'#audio-bg\')[0].play(); $(this).addClass(\'on\')}"></button>'
		].join('')).appendTo(document.body);
		
		$(document.body).on('click', '.img-btn', function(evt) {
			$('#audio-click')[0].play();
		}).on('click', function palyBgAudio(evt) {
			$('#audio-bg')[0].play();
			$(document.body).off('click', palyBgAudio);
		});

		$audio = $('#audio-bg')[0];

		if($('#audio-btn').hasClass('on')) {
			$audio.play()
		}
	}, 1000);

	G.record = function(pageId){
		app.ajax.post({url:'web/taobao/report/{pageId}.json'.replace('{pageId}',pageId)});
	};
};
</script>

<!-- yield "boost" -->
<script type="text/javascript">
require(['jquery', 'app', 'skateboard'], G.boost);
</script>
<!-- /yield -->

<!-- include "script/share.coffee" -->

<script src="//assets.alicdn.com/s/aplus_wap.js"></script>
<script type="text/javascript">
(function () {
	window.goldlog ? goldlog.record('/tbact.520.5', '', '', 'H46777408') : setTimeout(arguments.callee, 200);
})();

setTimeout(function(){
	window.goldlog ? goldlog.record('/tbact.520.2', '', '', 'H46777405') : setTimeout(arguments.callee, 200);
}, 30 * 1000);
setTimeout(function(){
	window.goldlog ? goldlog.record('/tbact.520.4', '', '', 'H46777407') : setTimeout(arguments.callee, 200);
}, 60 * 1000);
</script>
</body>
</html>
